(this["webpackJsonpdoorlooplijn-visualisatie"]=this["webpackJsonpdoorlooplijn-visualisatie"]||[]).push([[0],{12:function(t,e,n){t.exports=n(19)},17:function(t,e,n){},18:function(t,e,n){},19:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),o=n(10),l=n.n(o),s=(n(17),n(11)),c=n(1),a=n(2),u=n(5),h=n(4),f=n(3),p=function(){function t(e,n,i){Object(c.a)(this,t),this.key=e,this.value=n,this.left=null,this.right=null,this.color=i,this.isRed=this.isRed.bind(this)}return Object(a.a)(t,[{key:"free",value:function(){this.left=null,this.right=null}},{key:"isRed",value:function(){return 1===this.color}}]),t}();function d(t){return null!==t&&t.isRed()}var v=function(){function t(){Object(c.a)(this,t),this.root=null,this.size=0,this.free=this.free.bind(this)}return Object(a.a)(t,[{key:"free",value:function(){this.size=0,this.root=null}},{key:"insert",value:function(t,e){this.root=this.put(this.root,t,e),this.root.color=0,this.size++}},{key:"put",value:function(t,e,n){return null==t?new p(e,n,1):(e<t.key?t.left=this.put(t.left,e,n):e>t.key&&(t.right=this.put(t.right,e,n)),d(t.right)&&!d(t.left)&&(t=this.rotateLeft(t)),d(t.left)&&d(t.left.left)&&(t=this.rotateRight(t)),d(t.left)&&d(t.right)&&this.flipColors(t),t)}},{key:"rotateLeft",value:function(t){var e=t.right;return t.right=e.left,e.left=t,e.color=t.color,t.color=1,e}},{key:"rotateRight",value:function(t){var e=t.left;return t.left=e.right,e.right=t,e.color=t.color,t.color=1,e}},{key:"flipColors",value:function(t){t.color=1,t.left.color=0,t.right.color=0}},{key:"nnearest",value:function(t){return null===this.root?[null,null]:[this.up(t),this.down(t)]}},{key:"up",value:function(t){return this.upUtil(t,this.root,null)}},{key:"upUtil",value:function(t,e,n){var i=null;return t===e.key?null===(i=this.leftmost(e.right))?n:i:t<e.key?this.upUtil(t,e.left,e):this.upUtil(t,e.right,n)}},{key:"down",value:function(t){return this.downUtil(t,this.root,null)}},{key:"downUtil",value:function(t,e,n){var i=null;return t===e.key?null===(i=this.rightmost(e.left))?n:i:t>e.key?this.downUtil(t,e.right,e):this.downUtil(t,e.left,n)}},{key:"leftmost",value:function(t){if(null===t)return null;for(var e=t;null!==e.left;)e=e.left;return e}},{key:"rightmost",value:function(t){if(null===t)return null;for(var e=t;null!==e.right;)e=e.right;return e}}]),t}();function g(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}n(18);var k=n(8),x=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;return Object(c.a)(this,n),(i=e.call(this,t)).nodeRef=null,i.setNodeRef=function(e){i.nodeRef=e,t.contextRef(e.getContext("2d"))},i.clickHandler=function(e){t.onClick&&t.onClick(e,i.nodeRef)},i}return Object(a.a)(n,[{key:"render",value:function(){return r.a.createElement("canvas",{onClick:this.clickHandler,width:this.props.width,height:this.props.height,ref:this.setNodeRef})}}]),n}(r.a.Component),y=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;return Object(c.a)(this,n),(i=e.call(this,t)).setContext=i.setContext.bind(Object(k.a)(i)),i}return Object(a.a)(n,[{key:"setContext",value:function(t){this.ctx=t,this.width=t.canvas.width,this.height=t.canvas.height}},{key:"componentDidMount",value:function(){this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){var t=this,e=this.props,n=e.points,i=e.current;if(this.ctx.save(),this.ctx.beginPath(),this.ctx.clearRect(0,0,this.width,this.height),this.ctx.fillStyle="#4397AC",n.map((function(e){t.ctx.fillText(String(e.y),e.x+10+2,e.y+10),t.ctx.fillRect(e.x,e.y,10,10)})),i>=0&&i<n.length){var r=n[i];this.ctx.beginPath(),this.ctx.moveTo(r.x+5,0),this.ctx.lineTo(r.x+5,this.height),this.ctx.stroke()}var o=this.props.closestPair,l=o.first,s=o.second;o.distance;null!==l&&(console.log("Drawing closest pair"),this.ctx.beginPath(),this.ctx.moveTo(l.x+5,l.y+5),this.ctx.lineTo(s.x+5,s.y+5),this.ctx.setLineDash([10,5]),this.ctx.lineWidth=2,this.ctx.strokeStyle="#FF0000",this.ctx.stroke(),this.ctx.fillStyle="#FF0000",this.ctx.fillText("Closest pair",s.x+5,s.y-10)),this.ctx.restore()}},{key:"render",value:function(){return r.a.createElement(x,{height:"500",width:"500",onClick:this.props.onClick,contextRef:this.setContext})}}]),n}(r.a.Component);var b=function(t){var e=Object(i.useState)(null),n=Object(f.a)(e,2),o=n[0],l=n[1],s=function e(n,i,r,l){var s=Math.ceil(Math.log2(t.tree.current.size));o.beginPath(),o.arc(n,i,25,0,2*Math.PI),o.strokeStyle=0===r.color?"#000000":"#FF0000",o.stroke(),o.fillText(String(r.key),n-10,i+5),null!==r.left&&e(n-30*(s-l),i+55,r.left,l+1),null!==r.right&&e(n+30*(s-l),i+55,r.right,l+1)};return Object(i.useEffect)((function(){if(null!==o)return o.save(),o.beginPath(),o.clearRect(0,0,"500","500"),null!==t.tree.current.root&&s(250,55,t.tree.current.root,0),function(){o.clearRect(0,0,"500","500")}}),[t.tree.current.size]),r.a.createElement(x,{height:"500",width:"500",contextRef:l})};var m,j=function(t){Object(u.a)(n,t);var e=Object(h.a)(n);function n(t){var i;return Object(c.a)(this,n),(i=e.call(this,t)).canvasClick=function(t,e){if(!i.state.started){var n=e.getBoundingClientRect(),r=t.clientX-n.left-10,o=t.clientY-n.top-10;i.props.setPoints([].concat(Object(s.a)(i.props.points),[{x:r,y:o}]).sort((function(t,e){return t.x-e.x})))}},i.nexButtonClick=function(t){i.props.step(),i.setState((function(t){return{treeChanged:!t.treeChanged,started:!0}}))},i.resetButtonClick=function(t){i.props.reset(),i.setState((function(t){return{started:!1,treeChanged:!t.treeChanged}}))},i.state={started:!1,treeChanged:!1},i}return Object(a.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,{onClick:this.canvasClick,points:this.props.points,current:this.props.currentIndex,closestPair:this.props.closestPair}),r.a.createElement("button",{onClick:this.nexButtonClick,disabled:this.props.currentIndex===this.props.points.length-1},"Next"),r.a.createElement("button",{onClick:this.resetButtonClick},"RESET"),r.a.createElement(b,{tree:this.props.status}))}}]),n}(r.a.Component),C=(m=j,function(t){var e=function(){var t=Object(i.useRef)(new v),e=Object(i.useState)([]),n=Object(f.a)(e,2),r=n[0],o=n[1],l=Object(i.useState)({first:null,second:null,distance:Number.MAX_SAFE_INTEGER}),s=Object(f.a)(l,2),c=s[0],a=s[1],u=Object(i.useState)(-1),h=Object(f.a)(u,2),p=h[0],d=h[1];return[t,c,function(){var e=p+1;d(e);var n=r[e];t.current.insert(n.y,n);var i=t.current.nnearest(n.y);console.log(i);var o=i.filter((function(t){return null!==t&&g(n,t.value)<c.distance})).sort((function(t,e){return g(t.value,n)-g(e.value,n)}));o.length>0&&a({first:n,second:o[0].value,distance:g(n,o[0].value)})},p,o,function(){t.current.free(),d(-1),a({first:null,second:null,distance:Number.MAX_SAFE_INTEGER}),o([])},r]}(),n=Object(f.a)(e,7),o=n[0],l=n[1],s=n[2],c=n[3],a=n[4],u=n[5],h=n[6];return r.a.createElement(m,Object.assign({},t,{status:o,closestPair:l,step:s,currentIndex:c,setPoints:a,reset:u,points:h}))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.7f6e699c.chunk.js.map